/**
 * angular-pico
 * @version v0.1.0 - 2014-12-01
 * @author Alexander Sofin <avlasof@mail.ru>
 * @link https://github.com/avlasof/angular-pico
 * @license MIT
**/

"use strict";angular.module("ngPico",[]).directive("pico",function(){return{restrict:"A",link:function(a,b,c){function d(a){var b=new Image;b.onload=b.onerror=function(){return a(1==b.height)},b.src="data:image/webp;base64,UklGRiwAAABXRUJQVlA4ICAAAAAUAgCdASoBAAEAL/3+/3+CAB/AAAFzrNsAAP5QAAAAAA=="}function e(a){return b[0].src=window.devicePixelRatio>=1.5||window.devicePixelRatio>=2&&i?f+j+a:f+a}var f=c.pico.substr(0,c.pico.lastIndexOf(".")),g=c.pico.substr(c.pico.lastIndexOf(".")),h="true"===c.webp||!1,i=!1||"true"===c.retina,j=c.prefix||"@2x";return h?void d(function(a){return e(a?".webp":g)}):e(g)}}});